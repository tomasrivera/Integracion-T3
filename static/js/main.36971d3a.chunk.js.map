{"version":3,"sources":["assets/plane.svg","assets/dot.svg","components/Map.js","components/Chat.js","components/Flights.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","mapContainer","height","width","dotIcon","L","icon","iconUrl","dot","iconSize","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","planeIcon","marker","Map","positions","flights","positionsHistory","classes","maxCoords","minCoords","i","length","Math","min","origin","max","destination","center","Typography","MapContainer","className","zoom","scrollWheelZoom","TileLayer","url","Pane","name","style","zIndex","map","position","Marker","Object","entries","code","plane","Tooltip","LayerGroup","Polyline","Circle","radius","root","marginTop","padding","list","overflow","paper","marginBottom","paperInline","flexDirection","justifyContent","alignContent","fontSize","fontWeight","marginRight","display","date","message","inputText","backgroundColor","form","alignItems","nameLabel","Chat","messages","send","useState","input","setInput","setName","nameError","setNameError","Container","variant","List","Paper","align","timestamp","Date","toTimeString","noValidate","autoComplete","TextField","error","value","onChange","event","target","Button","color","onClick","container","marginInline","card","top","left","palette","background","border","boxShadow","shadows","spacing","Flights","undefined","modalFlight","setModalFlight","show","setShow","Modal","open","onClose","aria-labelledby","aria-describedby","passengers","passenger","flight","Card","CardContent","title","gutterBottom","component","airline","pos","CardActions","size","ENDPOINT","minHeight","flexGrow","SimpleContainer","setPositions","setFlights","setPositionsHistory","chat","setChat","useEffect","socket","io","path","emit","on","console","log","id","data","prevState","close","maxWidth","disableGutters","CssBaseline","AppBar","Toolbar","aria-label","Grid","item","xs","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36971d3a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/plane.bbe99e39.svg\";","export default __webpack_public_path__ + \"static/media/dot.6315a82d.svg\";","import { makeStyles } from '@material-ui/core/styles';\nimport { MapContainer, TileLayer, Marker, Pane, Polyline, Circle, LayerGroup, Tooltip } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport marker from '../assets/plane.svg';\nimport dot from '../assets/dot.svg';\nimport { Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  mapContainer: {\n    height: '65vh',\n    width: '100%',\n  },\n}));\n\nconst dotIcon = L.icon({\n  iconUrl: dot,\n  iconSize: [10,10],\n  iconAnchor: null,\n  popupAnchor: null,\n  shadowUrl: null,\n  shadowSize: null,\n  shadowAnchor: null\n});\n\nconst planeIcon = L.icon({\n  iconUrl: marker,\n  iconSize: [80,80],\n  iconAnchor: null,\n  popupAnchor: null,\n  shadowUrl: null,\n  shadowSize: null,\n  shadowAnchor: null\n});\n\nexport default function Map({positions, flights, positionsHistory}) {\n  const classes = useStyles();\n\n  const maxCoords = [90, 90];\n  const minCoords = [-90, -90];\n  for (let i = 0; i < flights.length; i++) {\n    maxCoords[0] = Math.min(flights[i].origin[0], maxCoords[0])\n    maxCoords[1] = Math.min(flights[i].origin[1], maxCoords[1])\n    minCoords[0] = Math.max(flights[i].destination[0], maxCoords[0])\n    minCoords[1] = Math.max(flights[i].destination[1], maxCoords[1])\n  }\n\n  const center = [(maxCoords[0] + minCoords[0]) / 2, (maxCoords[1] + minCoords[1]) / 2];\n\n  if (flights.length === 0) {\n    return <Typography>Loading</Typography>\n  }\n\n  return (\n    <MapContainer\n      className={classes.mapContainer}\n      center={center}\n      zoom={3}\n      scrollWheelZoom={true}\n    >\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      <Pane name=\"history-markers\" style={{ zIndex: 500 }}>\n        {positionsHistory.map((position, i) => (\n          <Marker\n            key={`marker-history-${i}`}\n            icon={dotIcon}\n            position={[position[0], position[1]]}\n          />\n        ))}\n      </Pane>\n      <Pane name=\"hover-tooltip-plane\" style={{ zIndex: 502 }}></Pane>\n      <Pane name=\"plane-markers\" style={{ zIndex: 501 }}>\n        {Object.entries(positions).map(([code, plane]) => {\n          return (\n            <Marker\n              key={`marker-${code}`}\n              icon={planeIcon}\n              position={[plane.position[0], plane.position[1]]}\n            >\n              <Pane name={`hover-tooltip-plane-${code}`} style={{ zIndex: 502 }}>\n                <Tooltip>{`Code: ${code}`}</Tooltip>\n              </Pane>\n            </Marker>\n          );\n        })}\n      </Pane>\n      <Pane name=\"lines\" style={{ zIndex: 499 }}>\n        {flights.map((plane) => (\n          <LayerGroup key={`line-${plane.code}`}>\n            \n            <Polyline\n              positions={[plane.origin, plane.destination]}\n            />\n            <Circle center={plane.origin} radius={10000} />\n            <Circle center={plane.destination} radius={10000} />\n          </LayerGroup>\n        ))}\n      </Pane>\n    </MapContainer>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Typography, Container, makeStyles, Paper, List, TextField, Button } from \"@material-ui/core\"\n\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    // backgroundColor: 'white',\n    width: \"90%\",\n    marginTop: 15,\n    padding: 10,\n  },\n  list: {\n    height: '45vh',\n    overflow: 'auto',\n  },\n  paper: {\n    padding: 10,\n    marginBottom: 5,\n  },\n  paperInline: {\n    // flex: 'grow',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignContent: 'space-between',\n  },\n  name: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginRight: 10,\n    display: 'inline-block',\n  },\n  date: {\n    display: 'inline-block',\n  },\n  message: {\n  },\n  inputText: {\n    width: '75%',\n    marginRight: 5,\n    backgroundColor: 'white',\n  },\n  form: {\n    padding: 10,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  nameLabel: {\n    marginRight: 10,\n  }\n}));\n\nexport default function Chat({messages, send}) {\n  const classes = useStyles();\n\n  const [input, setInput] = useState('');\n  const [name, setName] = useState('');\n  const [nameError, setNameError] = useState(false);\n\n  const toDate = (timestamp) => {\n    const date = new Date(timestamp);\n    return date.toTimeString();\n  }\n\n  const onClick = () => {\n    if (name) {\n      send(name, input);\n      setInput('');\n      setNameError(false);\n    } else {\n      setNameError(true);\n    }\n  }\n\n  const onWrite = (event) => {\n    setInput(event.target.value)\n  }\n\n  return (\n    <Container className={classes.root}>\n      <Typography variant=\"h5\">Chat</Typography>\n      <List className={classes.list}>\n        {messages.map((message, i) => (\n          <Paper key={`message-${i}`} className={classes.paper}>\n            <Container className={classes.paperInline}>\n              <Typography className={classes.name} variant=\"body1\">{message.name}</Typography>\n              <Typography className={classes.date} variant=\"body1\" align='right'>{toDate(message.date)}</Typography>\n            </Container>\n            <Container>\n              <Typography className={classes.message} variant=\"body1\" align='right'>{message.message}</Typography>\n            </Container>\n          </Paper>\n        ))}\n      </List>\n      <Container>\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <Typography className={classes.nameLabel} variant=\"body1\">Nickname</Typography>\n        <TextField error={nameError} value={name} onChange={(event) => setName(event.target.value)} className={classes.inputText} variant=\"outlined\" />\n      </form>\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField value={input} onChange={onWrite} className={classes.inputText} variant=\"outlined\" />\n        <Button variant=\"contained\" color=\"primary\" onClick={onClick}>Enviar</Button>\n      </form>\n      </Container>\n    </Container>\n  )\n}","\nimport React, { useState } from \"react\";\nimport { Button, Card, CardActions, CardContent, makeStyles, Typography, Modal, List } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: '24vh',\n    width: '80vw',\n    marginInline: 'auto',\n    // backgroundColor: 'red',\n    flexDirection: 'row',\n    overflow: 'auto',\n  },\n  card: {\n    marginInline: 3,\n    width: '15vw',\n    display: 'inline-block',\n  },\n  paper: {\n    top: '40%',\n    left: '40%',\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function Flights({ flights }) {\n  // console.log(flights);\n  const classes = useStyles();\n  const [modalFlight, setModalFlight] = useState(undefined);\n  const [show, setShow] = useState(false);\n\n  const onClick = (flight) => {\n    setModalFlight(flight);\n    setShow(true);\n  }\n  \n  return (\n    <List className={classes.container}>\n      {modalFlight && <Modal\n        open={show}\n        onClose={() => setShow(false)}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div className={classes.paper}>\n          <Typography variant='h4'>Pasajeros</Typography>\n          {modalFlight.passengers.map((passenger) => (\n            <Typography key={`passenger-${passenger.name}`} variant='body1'>{passenger.name}</Typography>\n          ))}\n        </div>\n      </Modal>}\n      {\n        flights.map((flight) => (\n          <Card key={`flight-card-${flight.code}`} className={classes.card}>\n          <CardContent>\n            <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n              {flight.plane}\n            </Typography>\n            <Typography variant=\"h5\" component=\"h2\">\n              {flight.airline} - {flight.code}\n            </Typography>\n            <Typography className={classes.pos} color=\"textSecondary\">\n              {`Origen: ${flight.origin}`}\n            </Typography>\n            <Typography className={classes.pos} color=\"textSecondary\">\n              {`Destino: ${flight.destination}`}\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <Button size=\"small\" onClick={() => onClick(flight)}>Pasajeros</Button>\n          </CardActions>\n          </Card>\n        ))\n      }\n    </List>\n  )\n}","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport LocalAirportOutlinedIcon from '@material-ui/icons/LocalAirportOutlined';\nimport { io } from 'socket.io-client';\nimport Map from './components/Map';\nimport Chat from './components/Chat';\nimport Flights from './components/Flights';\n\n\nconst ENDPOINT = \"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    minHeight: '100vh',\n    backgroundColor: '#cfe8fc'\n  },\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function SimpleContainer() {\n  const classes = useStyles();\n\n  const [positions, setPositions] = useState({});\n  const [flights, setFlights] = useState([]);\n  const [positionsHistory, setPositionsHistory] = useState([]);\n  const [chat, setChat] = useState([]);\n  \n  const sendMessage = (name, message) => {\n    const socket = io(\n      ENDPOINT, { path: '/flights' }\n    );\n    socket.on(\"connect\", () => {\n      socket.emit(\"CHAT\", { name, message }, () => (socket.close()))\n    });\n  }\n\n  useEffect(() => {\n    const socket = io(\n      ENDPOINT, { path: '/flights' }\n    );\n\n    socket.emit(\"FLIGHTS\")\n\n    socket.on(\"connect\", () => {\n      console.log(`connected to websocket with id: ${socket.id}`);\n    });\n\n    socket.on(\"POSITION\", data => {\n      setPositions((prevState) => ({\n        ...prevState,\n        [data.code]: {\n          position: data.position,\n        },\n      }));\n      setPositionsHistory((prevState) => ([...prevState, data.position]));\n    });\n\n    socket.on(\"FLIGHTS\", (data) => {\n      setFlights(data);\n    });\n\n    socket.on(\"CHAT\", (data) => {\n      setChat((prevState) => ([...prevState, data]));\n    });\n    return () => {\n      socket.close();\n    }\n  }, []);\n\n  return (\n    <Container className={classes.root} maxWidth={false} disableGutters>\n      <CssBaseline />\n      <AppBar position=\"static\">\n        <Toolbar>\n          <LocalAirportOutlinedIcon className={classes.icon} color=\"inherit\" aria-label=\"icon\" />\n          <Typography variant=\"h5\" className={classes.title}>\n            Tarea 3\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Grid container spacing={0}>\n        <Grid item xs={8}>\n          <Map flights={flights} positions={positions} positionsHistory={positionsHistory} />\n        </Grid>\n        <Grid item xs={4}>\n          <Chat messages={chat} send={sendMessage}/>\n        </Grid>\n        <Grid item xs={12}>\n          <Flights flights={flights} />\n        </Grid>\n      </Grid>\n    </Container>\n);\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}